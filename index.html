<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Le√≥n vs Impala ‚Äî Simulador Q-Learning</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<header>
    <h1>Simulador: Le√≥n aprende a cazar un Impala</h1>
    <p class="subtitle">Visualiza la cacer√≠a, entrena al le√≥n y revisa su base de conocimiento (Q-table)</p>
</header>

<main class="layout">

    <!-- ===========================
         PANEL IZQUIERDO (Simulador)
         =========================== -->
    <section class="left">

        <div class="main-visual-area">

            <!-- Canvas -->
            <div class="canvas-container">
                <canvas id="board" width="510" height="510"></canvas>
            </div>

            <!-- Controles -->
            <div class="controls">

                <label>
                    Posici√≥n inicial del le√≥n:
                    <select id="startPos">
                        <option value="1">1 (N)</option>
                        <option value="2">2 (NE)</option>
                        <option value="3">3 (E)</option>
                        <option value="4">4 (SE)</option>
                        <option value="5">5 (S)</option>
                        <option value="6">6 (SW)</option>
                        <option value="7">7 (W)</option>
                        <option value="8">8 (NW)</option>
                        <option value="rand" selected>Aleatoria</option>
                    </select>
                </label>

                <label>
                    Modo del Impala:
                    <select id="impalaMode">
                        <option value="aleatorio" selected>Aleatorio</option>
                        <option value="programado">Programado (secuencia)</option>
                    </select>
                </label>

                <label id="progLabel" style="display:none">
                    Secuencia (coma separada):
                    <input id="progSeq" placeholder="ver_frente,ver_izq,beber,...">
                </label>

                <div class="btnrow">
                    <button id="btnReset">Reset</button>
                    <button id="btnStep">Siguiente T</button>
                    <button id="btnRun">Ejecutar</button>
                    <button id="btnTrain">Entrenar √ó1000</button>
                    <button id="btnStopTrain" style="display:none">Detener</button>
                </div>

            </div>
        </div>
    </section>

    <!-- ===========================
         PANEL DERECHO (Datos / Log)
         =========================== -->
    <section class="right">

        <h2>üìä Estado Actual</h2>
        <div class="stats">
            <p>Turno: <span id="turn">--</span></p>
            <p>Estado: <span id="status">--</span></p>
            <p>Acci√≥n Impala anterior: <span id="lastImpala">--</span></p>
            <p>Acci√≥n Le√≥n anterior: <span id="lastLion">--</span></p>
        </div>

        <hr>

        <h2>üß† Base de Conocimiento (Q-Table)</h2>

        <div class="kbControls">
            <button id="btnShowKB">Mostrar/Actualizar</button>
            <button id="btnExplain">Explicar decisi√≥n</button>
        </div>

        <div class="kbControls">
            <button id="btnSaveKB">Guardar Q-Table</button>
            <button id="btnLoadKB">Cargar Q-Table</button>
            <input type="file" id="kbFile" style="display:none">
        </div>

        <pre id="kbView" class="q-table-display"></pre>

        <hr>

        <h2>üìú Registro de Eventos</h2>
        <div id="log" class="log-area"></div>

    </section>

</main>

<!-- Scripts del simulador -->
<script src="js/env.js"></script>
<script src="js/impala.js"></script>
<script src="js/leon.js"></script>
<script src="js/qlearning.js"></script>
<script src="js/knowledge.js"></script>
<script src="js/ui.js"></script>
<script src="js/main.js"></script>

</body>
</html>
